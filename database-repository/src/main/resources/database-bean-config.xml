<?xml version="1.0" encoding="UTF-8" ?>
<beans profile="database-repository" xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
 		http://www.springframework.org/schema/beans/spring-beans-4.2.xsd">

    <import resource="production-profile.xml"/>

    <bean id="tourJoiner" class="by.runets.travelagency.joiner.impl.TourJoiner"/>
    <bean id="countryJoiner" class="by.runets.travelagency.joiner.impl.CountryJoiner"/>
    <bean id="userJoiner" class="by.runets.travelagency.joiner.impl.UserJoiner"/>

    <bean id="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
        <constructor-arg ref="dataSource"/>
    </bean>
    <bean id="countryRepository" class="by.runets.travelagency.repository.impl.CountryRepository">
        <constructor-arg ref="jdbcTemplate"/>
        <constructor-arg ref="countryJoiner"/>
    </bean>
    <bean id="hotelRepository" class="by.runets.travelagency.repository.impl.HotelRepository">
        <constructor-arg ref="jdbcTemplate" />
    </bean>
    <bean id="reviewRepository" class="by.runets.travelagency.repository.impl.ReviewRepository">
        <constructor-arg ref="jdbcTemplate" />
    </bean>
    <bean id="tourRepository" class="by.runets.travelagency.repository.impl.TourRepository">
        <constructor-arg ref="jdbcTemplate" />
        <constructor-arg ref="tourJoiner" />
    </bean>
    <bean id="userRepository" class="by.runets.travelagency.repository.impl.UserRepository">
        <constructor-arg ref="jdbcTemplate" />
        <constructor-arg ref="userJoiner" />
    </bean>
</beans>